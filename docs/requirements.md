
# 防災データ支援ツール　要件定義(MVP)

## 1. 概要
本アプリは、千葉県船橋市が公開している防災関連オープンデータを取得・正規化し、避難所等の情報を条件検索・閲覧できるWebアプリケーションである。
初回またはオンライン時にデータを同期し、オフライン環境でも閲覧・検索を可能とする。

---

## 2. 背景・目的
自治体の防災関連オープンデータは、目的別に整理された形では提供されておらず、災害時や通信が不安定な状況下で必要な情報に素早くアクセスしにくい課題がある。

本アプリでは、公開データを再構成し、
- 条件検索しやすい形式で提供すること
- オフライン環境でも直近の情報を参照できること
を目的とする。

---

## 3. 対象ユーザー
- 船橋市内の住民・市内関係者(市内に通勤・通学する者、および市内で活動する団体・企業)
- 災害時・平時に避難所情報を確認したい利用者

---

## 4. 使用データ
以下の船橋市オープンデータを使用する。

- 避難場所一覧  
  https://data.bodik.jp/dataset/122041_hinanbasyo
- 避難所（一時滞在可能）  
  https://data.bodik.jp/dataset/122041_hinanjyo
- 帰宅困難者支援施設  
  https://data.bodik.jp/dataset/122041_kitakukonnannsya

（余裕があれば追加）
- AED設置場所  
  https://data.bodik.jp/dataset/122041_aed_sikoukyousisetsu

  ※給水拠点については、データ定義・探索に時間を要するため将来拡張とする。

---

## 5. 機能要件

### 5.1 データ同期
- オンライン時に、最新データを取得し、端末内に保存する
- オフライン時は、直近に同期したデータを使用する
- 同期日時を画面上に明示する

### 5.2 表示機能
- カテゴリ別の全権一覧表示
  - 避難場所
  - 避難所
  - 帰宅困難者支援施設
- 施設詳細表示
  - 施設名
  - 住所
  - 備考
  - 出典情報

### 5.3 検索・絞り込み
- 施設名・住所によるキーワード検索(補助機能)
- 種別等による絞り込み

※検索は補助的な位置付けとし、全件一覧表示を基本動作とする。

### 5.4 検索結果の安全対策
- 検索結果が0件の場合は、全権一覧へ戻る導線を必ず表示する
- 検索結果が少数の場合は、絞り込みすぎの可能性を示すメッセージを表示する
- 検索欄付近に「一覧から探すことを推奨する」注意文を表示する

---

## 6. オフライン対応
- PWA(Servis Worker)を利用し、オフライン時もアプリを起動可能とする
- 同期済みデータに対して、一覧表示・検索・絞り込みを可能とする
- オフライン時は最新情報ではない可能性があることを明示する

---

## 7. 非機能要件
- 対応ブラウザ：Chrome/Edge(PC・スマートフォン)
- データ保存：ブラウザ内ストレージ
- デザイン：情報の視認性を重視したシンプルなUI
- ライセンス表記：CC BY 4.0に基づく出典表記を画面内に表示

---

## 8. ライセンス・出典
本アプリは、以下の公開データベースを改変して利用している。

- 船橋市オープンデータ
  クリエイティブ・コモンズ・ライセンス 表示 4.0  
  https://creativecommons.org/licenses/by/4.0/deed.ja

---

## 9. 将来拡張
- AED設置場所のデータ追加
- 給水拠点情報の追加
- 現在地(GPS)から近い順の表示
- 地図表示(オンラインのみ)
